<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chastity Clicker</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

    <div id="splashScreen">
        <h1>üîí Chastity Clicker</h1>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞...</p>
        <button id="startButton" style="display:none;">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
    </div>

    <div id="mainGame" style="display:none;">
        
        <div class="status-panel">
            <div class="status-item">–û—á–∫–∏: <span id="scoreDisplay">0</span></div>
            <div class="status-item" id="levelInfo">–£—Ä–æ–≤–µ–Ω—å: <span id="levelDisplay">1</span></div>
            <div class="status-item">–ü–æ—è—Å: <span id="currentBeltName">–ü–æ—è—Å –≤–µ—Ä–Ω–æ—Å—Ç–∏ 1</span></div>
        </div>
        
        <div id="toleranceBarContainer">
            <div id="toleranceBar">–®–∫–∞–ª–∞ –¢–µ—Ä–ø–∏–º–æ—Å—Ç–∏</div>
        </div>
        <div id="restTimerDisplay" class="rest-timer-text"></div>
        
        <img id="chastityBelt" class="belt-image" src="" alt="–ü–æ—è—Å –í–µ—Ä–Ω–æ—Å—Ç–∏">
        
        <div id="mainTimerDisplay" class="main-timer">00:00:00</div>
        
        <div class="main-buttons">
            <button id="takeTaskBtn">–í–∑—è—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
            <button id="startTaskBtn" disabled>–ù–∞—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
        </div>
        
        <div id="newCommandSection" class="main-buttons" style="display: none;">
            <button id="newCommandBtn">–ù–æ–≤—ã–π –ø—Ä–∏–∫–∞–∑</button>
            <button id="chastityBeltShortenBtn">–ù–∞–¥–µ—Ç—å –ø–æ—è—Å –≤–µ—Ä–Ω–æ—Å—Ç–∏ (50%)</button>
            <button id="plugShortenBtn">–í—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ–±–∫—É (50%)</button>
        </div>
        
        <div class="main-buttons menu-row">
            <button id="spendPointsBtn">–ü–æ—Ç—Ä–∞—Ç–∏—Ç—å –æ—á–∫–∏</button>
            <button id="inventoryBtn">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
            <button id="statsBtn">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
            <button id="orgasmRequestBtn">–ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ä–≥–∞–∑–º</button>
            <button id="achievementsBtn">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</button>
        </div>
        
        <button id="exitGameBtn" style="background: #34495e; margin-top: 20px;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –í—ã–π—Ç–∏</button>

    </div>

    <div id="taskModal" class="modal">
        <div class="modal-content">
            <button class="close-btn">√ó</button>
            <h2>–í—ã–±–æ—Ä –∑–∞–¥–∞–Ω–∏—è</h2>
            <div class="modal-grid">
                <div class="modal-item-btn" id="optionProgram" data-type="program">–ù–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã</div>
                <div class="modal-item-btn" id="optionCustom" data-type="custom">–°–≤–æ–π —Å—Ä–æ–∫</div>
            </div>
            <div id="customTimeInput" style="margin-top: 15px; display: none;">
                <label for="customTime">–°–≤–æ–π —Å—Ä–æ–∫ (–ß–ß:–ú–ú:–°–°):</label>
                <input type="text" id="customTime" value="01:00:00" style="width: 150px; padding: 5px;">
            </div>
            <div id="programTimeDisplay" style="margin-top: 15px; display: none; font-size: 1.2em;">
                <p>–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç: <span id="suggestedTime" style="font-weight: bold;"></span></p>
            </div>
        </div>
    </div>
    
    <div id="shopModal" class="modal">
        <div class="modal-content">
            <button class="close-btn">√ó</button>
            <h2>–ú–∞–≥–∞–∑–∏–Ω (–û—á–∫–∏: <span id="shopScoreDisplay"></span>)</h2>
            <div class="tab-menu" style="margin-bottom: 15px;">
                <button class="active" data-tab="upgrades">–£–ª—É—á—à–µ–Ω–∏—è</button>
                <button data-tab="belts">–ü–æ—è—Å–∞ –í–µ—Ä–Ω–æ—Å—Ç–∏</button>
                <button data-tab="styles">–§–æ–Ω—ã (–°—Ç–∏–ª–∏)</button>
            </div>
            <div id="shopTab_upgrades">
                <p>–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: <span id="shopLevelDisplay"></span>. –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å: <span id="nextLevelCostDisplay"></span> –æ—á–∫–æ–≤.</p>
                <button id="levelUpBtn" class="upgrade-btn">–ü–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            </div>
            <div id="shopTab_belts" style="display: none;"><div id="beltShopGrid" class="modal-grid"></div></div>
            <div id="shopTab_styles" style="display: none;"><div id="styleShopGrid" class="modal-grid"></div></div>
        </div>
    </div>
    
    <div id="inventoryModal" class="modal">
        <div class="modal-content">
            <button class="close-btn">√ó</button>
            <h2>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
            <div class="tab-menu" style="margin-bottom: 15px;">
                <button class="active" data-inv-tab="invBelts">–ü–æ—è—Å–∞</button>
                <button data-inv-tab="invStyles">–§–æ–Ω—ã</button>
            </div>
            <div id="invBelts"><div id="beltInventoryGrid" class="modal-grid"></div></div>
            <div id="invStyles" style="display: none;"><div id="styleInventoryGrid" class="modal-grid"></div></div>
        </div>
    </div>
    
    <div id="commandModal" class="modal">
        <div class="modal-content">
            <button class="close-btn">√ó</button>
            <h2>–ù–æ–≤—ã–π –ø—Ä–∏–∫–∞–∑!</h2>
            <p style="font-size: 1.3em; margin: 20px 0; font-style: italic;">" <span id="commandText"></span> "</p>
            <div class="command-buttons">
                <button id="commandAgreeBtn">–°–æ–≥–ª–∞—Å–µ–Ω –≤—ã–ø–æ–ª–Ω–∏—Ç—å (-15%)</button>
                <button id="commandRefuseBtn" class="refuse">–û—Ç–∫–∞–∑—ã–≤–∞—é—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å (+15%)</button>
            </div>
        </div>
    </div>
    
    <div id="beltDetailModal" class="modal">
        <div class="modal-content">
            <button class="close-btn">√ó</button>
            <h2 id="beltDetailName"></h2>
            <p id="beltDetailDescription" style="margin-bottom: 20px;"></p>
            <p>–≠—Ñ—Ñ–µ–∫—Ç: +<span id="beltDetailValue"></span> –æ—á–∫–æ–≤ –ø–æ–∫–æ—Ä–Ω–æ—Å—Ç–∏ –∑–∞ –∫–ª–∏–∫.</p>
            <button id="beltDetailBuyBtn" style="display: none; background: #27ae60;">–ö—É–ø–∏—Ç—å</button>
            <button id="beltDetailEquipBtn" style="display: none; background: #3498db;">–ù–∞–¥–µ—Ç—å</button>
            <p id="beltDetailStatus" style="margin-top: 10px; font-weight: bold;"></p>
        </div>
    </div>
    
    <div id="statsModal" class="modal"><div class="modal-content"><button class="close-btn">√ó</button><h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2><p><strong>–í—Ä–µ–º—è –≤ –∑–∞—Ç–æ—á–µ–Ω–∏–∏:</strong> <span id="statTotalTime"></span></p><p><strong>–í—Å–µ–≥–æ –æ—á–∫–æ–≤ –ø–æ–∫–æ—Ä–Ω–æ—Å—Ç–∏:</strong> <span id="statTotalScore"></span></p><p><strong>–ü–æ–ª—É—á–µ–Ω–æ –æ—Ä–≥–∞–∑–º–æ–≤:</strong> <span id="statOrgasmSuccess"></span></p><p><strong>–ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö –æ—Ä–≥–∞–∑–º–æ–≤:</strong> <span id="statOrgasmForbidden"></span></p><p class="small-text">(–ö–Ω–æ–ø–∫–∞ –£—Ä–æ–≤–µ–Ω—å) "–° –∫–∞–∂–¥—ã–º –Ω–æ–≤—ã–º —É—Ä–æ–≤–Ω–µ–º –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞—Ç–æ—á–µ–Ω–∏—è –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å—Å—è" </p></div></div>
    <div id="orgasmModal" class="modal"><div class="modal-content"><button class="close-btn">√ó</button><h2>–ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ä–≥–∞–∑–º</h2><div class="modal-grid"><button data-prob="1.0" data-cost="1000">–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (1000)</button><button data-prob="0.5" data-cost="500">–û—Ä–≥–∞–∑–º 50% (500)</button><button data-prob="0.1" data-cost="100">–û—Ä–≥–∞–∑–º 10% (100)</button></div><p id="orgasmResult" class="result-text"></p></div></div>
    <div id="achievementsModal" class="modal"><div class="modal-content"><button class="close-btn">√ó</button><h2>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2><div id="achievementsList" class="achievements-grid"></div></div></div>


    <script type="module" src="js/game_data.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html>